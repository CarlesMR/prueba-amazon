{% extends 'base.html.twig' %}

{% block title %}Lista de Productos{% endblock %}

{% block stylesheets %}
<style>
    .badge-outline-dark {
        color: #343a40;
        background-color: transparent;
        background-image: none;
        border-color: #343a40;
        border: 1px solid;
    }
</style>
{% endblock %}

{% block body %}
<div class="container mt-5 mb-5">
    <h1 class="mb-4 text-center fw-bold text-primary">Lista de Productos</h1>

    <table class="table table-hover table-striped align-middle shadow-sm rounded">
        <thead class="table-dark">
            <tr>
                <th style="width: 25%;">Producto</th>
                <th class="text-center" style="width: 20%;">Nuestra Puntuaci√≥n</th>
                <th>Caracter√≠sticas Clave</th>
                <th class="text-center" style="width: 15%;">Acci√≥n</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
                {% set collapse_id = 'collapse-' ~ loop.index %}
                {% include 'partials/row.html.twig' %}
            {% else %}
                <tr>
                    <td colspan="4" class="text-center text-muted py-4">
                        No se encontraron productos üòû
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block javascripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggles = document.querySelectorAll('.toggle-collapse');

        toggles.forEach(function(toggle) {
            const target = document.querySelector(toggle.getAttribute('href'));

            target.addEventListener('shown.bs.collapse', function () {
                toggle.textContent = 'Mostrar menos ‚ñ≤';
            });

            target.addEventListener('hidden.bs.collapse', function () {
                toggle.textContent = 'Mostrar m√°s ‚ñº';
            });
        });
    });
</script>
{% endblock %}
